{"ast":null,"code":"// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, onSnapshot } from \"firebase/firestore\";\nimport { GoogleAuthProvider, getAuth, onAuthStateChanged, signInWithPopup, signOut } from 'firebase/auth';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBC0AeCRt-Be2hOnWgdGE4hnqaXStAVRTw\",\n  authDomain: \"adidas2-26fbe.firebaseapp.com\",\n  projectId: \"adidas2-26fbe\",\n  storageBucket: \"adidas2-26fbe.appspot.com\",\n  messagingSenderId: \"390365468612\",\n  appId: \"1:390365468612:web:73ab6109c0b6202ce57691\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nexport const db = getFirestore(app);\nconst auth = getAuth(app);\nexport const storage = getStorage(app);\nexport const categoryCollection = collection(db, \"categories\");\nexport const productsCollection = collection(db, \"products\");\nexport const ordersCollection = collection(db, \"orders\");\nconst provider = new GoogleAuthProvider();\nexport const LogIn = () => signInWithPopup(auth, provider);\n_c = LogIn;\nexport const LogOut = () => signOut(auth);\n_c2 = LogOut;\nexport const onAuthChange = callback => onAuthStateChanged(auth, callback);\nexport const onCategoriesLoad = callback => onSnapshot(categoryCollection, snapshot => callback(snapshot.docs.map(doc => ({\n  id: doc.id,\n  ...doc.data()\n}))));\nexport const onProductsLoad = callback => onSnapshot(productsCollection, snapshot => callback(snapshot.docs.map(doc => ({\n  id: doc.id,\n  ...doc.data()\n}))));\nexport const onOrdersLoad = callback => onSnapshot(ordersCollection, snapshot => callback(snapshot.docs.map(doc => ({\n  id: doc.id,\n  ...doc.data()\n}))));\n\n// отправка фотографии и получение ее url\nexport const uploadProductPhoto = file => {\n  const storageRef = ref(storage, `products/${file.name}`);\n  return uploadBytes(storageRef, file).then(() => {\n    return getDownloadURL(storageRef);\n  }).catch(error => {\n    console.log(\"Failed to upload product photo:\", error);\n  });\n};\nvar _c, _c2;\n$RefreshReg$(_c, \"LogIn\");\n$RefreshReg$(_c2, \"LogOut\");","map":{"version":3,"names":["initializeApp","getFirestore","collection","onSnapshot","GoogleAuthProvider","getAuth","onAuthStateChanged","signInWithPopup","signOut","getStorage","ref","uploadBytes","getDownloadURL","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","db","auth","storage","categoryCollection","productsCollection","ordersCollection","provider","LogIn","_c","LogOut","_c2","onAuthChange","callback","onCategoriesLoad","snapshot","docs","map","doc","id","data","onProductsLoad","onOrdersLoad","uploadProductPhoto","file","storageRef","name","then","catch","error","console","log","$RefreshReg$"],"sources":["D:/diplom_adidas/src/firebase.js"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, onSnapshot } from \"firebase/firestore\";\nimport { GoogleAuthProvider, getAuth, onAuthStateChanged, signInWithPopup, signOut } from 'firebase/auth';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBC0AeCRt-Be2hOnWgdGE4hnqaXStAVRTw\",\n  authDomain: \"adidas2-26fbe.firebaseapp.com\",\n  projectId: \"adidas2-26fbe\",\n  storageBucket: \"adidas2-26fbe.appspot.com\",\n  messagingSenderId: \"390365468612\",\n  appId: \"1:390365468612:web:73ab6109c0b6202ce57691\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nexport const db = getFirestore(app);\nconst auth = getAuth(app);\nexport const storage = getStorage(app);\n\nexport const categoryCollection = collection(db, \"categories\");\nexport const productsCollection = collection(db, \"products\");\nexport const ordersCollection = collection(db, \"orders\");\n\nconst provider = new GoogleAuthProvider();\nexport const LogIn = () => signInWithPopup(auth, provider);\nexport const LogOut = () => signOut(auth);\nexport const onAuthChange = (callback) => onAuthStateChanged(auth, callback);\n\nexport const onCategoriesLoad = (callback) =>\n  onSnapshot(categoryCollection, (snapshot) =>\n    callback(\n      snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }))\n    )\n  );\nexport const onProductsLoad = (callback) =>\n  onSnapshot(productsCollection, (snapshot) =>\n    callback(\n      snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }))\n    )\n  );\nexport const onOrdersLoad = (callback) =>\n  onSnapshot(ordersCollection, (snapshot) =>\n    callback(\n      snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }))\n    )\n  );\n\n  // отправка фотографии и получение ее url\nexport const uploadProductPhoto = (file) => {\n  const storageRef = ref(storage, `products/${file.name}`);\n  return uploadBytes(storageRef, file)\n    .then(() => {\n      return getDownloadURL(storageRef);\n    })\n    .catch((error) => {\n      console.log(\"Failed to upload product photo:\", error);\n    });\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}